{"version":3,"file":"static/js/929.ae9919fc.chunk.js","mappings":"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","sources":["components/Filter/Filter.styled.js","components/Filter/Filter.jsx","components/SideBar/SideBar.styled.js","components/SideBar/SideBar.jsx","pages/User/User.styled.js","pages/User/User.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const FilterWrap = styled.div`\n  margin-right: auto;\n  margin-left: auto;\n  margin-bottom: 12px;\n  align-content: center;\n`;\n\nexport const FilterInput = styled.input`\n  width: ${p => (p.isAuth ? '260px' : '280px')};\n  padding: 3px;\n  font-size: 13px;\n  border-color: #264061;\n  outline: none;\n  border: none;\n\n  border-bottom: 2px solid ${p => p.theme.modalTextColor};\n  background: transparent;\n\n  font-family: 'Jost', sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 1.21;\n  letter-spacing: 0.04em;\n  color: ${p => p.theme.modalTextColor};\n\n  ::placeholder {\n    color: ${p => p.theme.modalTextColor};\n  }\n\n  margin-left: auto;\n  margin-right: auto;\n  @media (min-width: 768px) {\n    width: ${p => (p.isAuth ? '270px' : '330px')};\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FilterInput, FilterWrap } from './Filter.styled';\n\nconst Filter = ({ onChangeFilter, value, isAuth = false }) => (\n  <FilterWrap>\n    <FilterInput\n      isAuth={isAuth}\n      onChange={onChangeFilter}\n      type=\"text\"\n      value={value}\n      name=\"name\"\n      pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n      title=\"Name may contain only letters, apostrophe, dash and spaces.\"\n      required\n      placeholder=\"Search product\"\n    />\n  </FilterWrap>\n);\n\nexport default Filter;\n\nFilter.propTypes = {\n  onChangeFilter: PropTypes.func.isRequired,\n  value: PropTypes.string,\n  isAuth: PropTypes.bool,\n};\n","import styled from 'styled-components';\nimport { breakpoints } from 'helpers/breakpoints';\nimport leaves from '../../helpers/images/leaves-aside-tablet.png';\nimport leavesBig from '../../helpers/images/leaves-desktop-aside.png';\n\nexport const AsideBox = styled.aside`\n  margin: 0 -20px;\n  background: ${p => p.theme.sideBarColor};\n  padding: 40px 20px;\n  min-width: 280px;\n  min-height: 433px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  gap: 40px;\n\n  @media ${breakpoints.minTablet} {\n    margin: 0 -32px;\n    width: 100%;\n    min-height: 166px;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    /* padding: 80px 88px; */\n    margin-left: auto;\n    margin-right: auto;\n    background-image: url(${leaves});\n    background-repeat: no-repeat;\n    background-position: top -180;\n  }\n\n  @media ${breakpoints.desktop} {\n    margin: 0 -16px;\n    background: ${p => p.theme.sideBarColor};\n\n    margin-left: auto;\n    gap: 60px;\n    padding: 0;\n    width: 497px;\n    height: 850px;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-image: url(${leavesBig});\n    background-repeat: no-repeat;\n    background-position: 0 -80%;\n    overflow: auto;\n  }\n`;\n\nexport const Title = styled.h2`\n  margin-bottom: 20px;\n\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 17px;\n  letter-spacing: 0.04em;\n\n color: ${p => p.theme.colorTextPrimary};\n\n  @media screen and (min-width: 1280px) {\n    margin-bottom: 38px;\n  }\n`;\n\nexport const Div = styled.div`\n  min-width: 280px;\n  max-width: 520px;\n\n  @media screen and (min-width: 768px) {\n    width: 244px;\n  }\n  @media screen and (min-width: 1280px) {\n    width: 290px;\n  }\n`;\n\nexport const KcalList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n\nexport const KcalItem = styled.li`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const Text = styled.p`\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 17px;\n  letter-spacing: 0.04em;\n\n  color: #9b9faa;\n`;\n\nexport const Span = styled.span`\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 17px;\n  letter-spacing: 0.04em;\n\n  color: #9b9faa;\n`;\n\nexport const ProductList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  height: 200px;\n  gap: 20px;\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #e2e2e2;\n  }\n\n  /* &::-webkit-scrollbar-thumb {\n    background-color: #264061;\n  } */\n  &::-webkit-scrollbar-thumb {\n    background-color: ${p => (p.theme.gradient ? '#264061' : '#9b9faa')};\n  } \n`;\n","import Filter from 'components/Filter';\nimport PropTypes from 'prop-types';\nimport { useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectIsAuth } from 'redux/auth/selectors.auth';\nimport {\n  AsideBox,\n  Div,\n  KcalItem,\n  KcalList,\n  ProductList,\n  Span,\n  Text,\n  Title,\n} from './SideBar.styled';\n\nexport default function SideBar({ date, dailyInfo, notAllowedProducts }) {\n  const { dailyRate, kcalConsumed, kcalLeft, percentsOfDailyRate, daySummary } =\n    dailyInfo;\n\n  const isAuth = useSelector(selectIsAuth);\n  const [filterRequest, setFilterRequest] = useState('');\n\n  const getUserFilterRequest = e => {\n    setFilterRequest(e.target.value);\n  };\n\n  const filtredNotAllowedProducts = useMemo(\n    () =>\n      notAllowedProducts\n        .filter(product =>\n          product.toLowerCase().includes(filterRequest.toLowerCase())\n        )\n        .sort((prev, post) => prev.localeCompare(post)),\n    [filterRequest, notAllowedProducts]\n  );\n\n  const getPercentsKcal = percent => {\n    const total = dailyRate || daySummary?.dailyRate;\n\n    return Math.round((percent / 100) * total);\n  };\n\n  const normalLeft = Math.round(kcalLeft) || Math.round(daySummary?.kcalLeft);\n  const normalConsumed =\n    Math.round(kcalConsumed) || Math.round(daySummary?.kcalConsumed);\n  const normalPercent =\n    Math.round(percentsOfDailyRate) ||\n    Math.round(daySummary?.percentsOfDailyRate);\n  const normalPercentsKcal =\n    getPercentsKcal(percentsOfDailyRate) ||\n    getPercentsKcal(daySummary?.percentsOfDailyRate);\n\n  return (\n    <AsideBox>\n      <Div>\n        <Title>Summary for {date}</Title>\n        <KcalList>\n          <KcalItem>\n            <Text>Left</Text>\n            <Span>\n              {kcalLeft || daySummary ? normalLeft : '000'}\n              kcal\n            </Span>\n          </KcalItem>\n          <KcalItem>\n            <Text>Consumed</Text>\n            <Span>\n              {kcalConsumed || daySummary ? normalConsumed : '000'}\n              kcal\n            </Span>\n          </KcalItem>\n          <KcalItem>\n            <Text>Daily rate</Text>\n            <Span>\n              {dailyRate || daySummary\n                ? dailyRate || daySummary.dailyRate\n                : '000'}\n              kcal\n            </Span>\n          </KcalItem>\n          <KcalItem>\n            <Text>\n              {percentsOfDailyRate || daySummary ? normalPercent : 'n'}% of\n              normal\n            </Text>\n            <Span>\n              {percentsOfDailyRate || daySummary ? normalPercentsKcal : '000'}\n              kcal\n            </Span>\n          </KcalItem>\n        </KcalList>\n      </Div>\n      <Div>\n        <Title>Food not recommended</Title>\n        <Filter\n          isAuth={isAuth}\n          onChangeFilter={getUserFilterRequest}\n          value={filterRequest}\n        />\n        <ProductList>\n          {filtredNotAllowedProducts ? (\n            <>\n              {filtredNotAllowedProducts?.map(product => (\n                <KcalItem key={product}>\n                  <Text>{product}</Text>\n                </KcalItem>\n              ))}\n            </>\n          ) : (\n            <KcalItem>\n              <Text>Your diet will be displayed here</Text>\n            </KcalItem>\n          )}\n        </ProductList>\n      </Div>\n    </AsideBox>\n  );\n}\n\nSideBar.propTypes = {\n  date: PropTypes.string,\n  dailyInfo: PropTypes.shape({\n    date: PropTypes.string,\n    daySummary: PropTypes.shape({\n      dailyRate: PropTypes.number,\n      date: PropTypes.string,\n      id: PropTypes.string,\n      kcalConsumed: PropTypes.number,\n      kcalLeft: PropTypes.number,\n      percentsOfDailyRate: PropTypes.number,\n      userId: PropTypes.string,\n    }),\n    eatenProducts: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string,\n        kcal: PropTypes.number,\n        title: PropTypes.string,\n        weight: PropTypes.number,\n      })\n    ),\n    id: PropTypes.string,\n  }),\n  notAllowedProducts: PropTypes.arrayOf(PropTypes.string),\n};\n","import styled from 'styled-components';\nimport { breakpoints } from 'helpers/breakpoints';\n\nexport const UserPage = styled.section`\n  min-width: 320px;\n  background: ${p =>\n    p.theme.gradient\n      ? `linear-gradient(\n        180deg,\n        rgba(255, 255, 255, 1) 48%,\n        rgba(240, 241, 243, 1) 48%\n      )`\n      : `linear-gradient(\n        180deg,\n        rgba(22,\t81,\t129, 0.3) 48%,\n        #rgba(0, 0, 0, 0.1) 48%\n        )`};\n\n  @media ${breakpoints.minTablet} {\n    background: ${p =>\n      p.theme.gradient\n        ? `linear-gradient(\n        180deg,\n        rgba(255, 255, 255, 1) 60%,\n        rgba(240, 241, 243, 1) 60%\n      )`\n        : `linear-gradient(\n        180deg,\n        rgba(22,\t81,\t129, 0.3) 60%,\n        #rgba(0, 0, 0, 0.1) 60%\n        )`};\n  }\n\n  @media ${breakpoints.desktop} {\n    height: 100vh;\n    background: transparent;\n  }\n`;\n\nexport const UserWrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n\n  @media ${breakpoints.desktop} {\n    flex-direction: row;\n  }\n`;\n","import { Container } from 'components/Container';\nimport { Outlet, useSearchParams } from 'react-router-dom';\nimport SideBar from 'components/SideBar';\nimport { UserPage, UserWrapper } from './User.styled';\nimport { Suspense, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport APIs from 'services/API/API';\nimport { toast } from 'react-toastify';\nimport Loader from 'components/Loader';\nimport { useSelector } from 'react-redux';\nimport { selectDarkTheme } from 'redux/darkTheme/selectors.darkTheme';\n\nconst TODAY = new Date().toLocaleDateString('en-CA');\n\nexport default function User() {\n  const [searchParams] = useSearchParams();\n  const date = searchParams.get('date') || TODAY;\n  const normalizedDate = new Date(date)\n    .toLocaleDateString('en-GB')\n    .replaceAll('/', '.');\n\n  const { userId } = useParams();\n  const isDark = useSelector(selectDarkTheme);\n\n  const usersParams = JSON.parse(window.localStorage.getItem('userParams'));\n\n  const [dailyRate, setDailyRate] = useState({});\n  const [state, setState] = useState('idle');\n\n  const [notAllowedProducts, setNotAllowedProducts] = useState([]);\n  const [userData, setUserData] = useState({});\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  userData && toast.warn(errorMessage);\n\n  useEffect(() => {\n    getInfoSideBar(\n      setDailyRate,\n      setErrorMessage,\n      setNotAllowedProducts,\n      setUserData,\n      date,\n      userId,\n      usersParams,\n      setState\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [date, userId]);\n\n  useEffect(() => {\n    getAllowedProducts(\n      setUserData,\n      setNotAllowedProducts,\n      setErrorMessage,\n      setState\n    );\n  }, []);\n  return (\n    <UserPage isDark={isDark}>\n      <Container>\n        {userData?.notAllowedProducts ? (\n          <UserWrapper>\n            <Suspense fallback={<Loader />}>\n              <Outlet\n                context={{\n                  userData,\n                  setNotAllowedProducts,\n                  dailyRate,\n                  setDailyRate,\n                  state,\n                }}\n              />\n            </Suspense>\n\n            <SideBar\n              date={normalizedDate}\n              dailyInfo={dailyRate}\n              notAllowedProducts={notAllowedProducts}\n            />\n          </UserWrapper>\n        ) : (\n          <Loader />\n        )}\n      </Container>\n    </UserPage>\n  );\n}\n\nasync function getAllowedProducts(\n  setUserData,\n  setNotAllowedProducts,\n  setErrorMessage,\n  setState\n) {\n  try {\n    setState('pending');\n    const { data } = await APIs.getUserInfoRequest();\n    setErrorMessage(null);\n    setUserData(data.userData);\n    setNotAllowedProducts(data.userData.notAllowedProducts);\n    setState('idle');\n    if (data.userData.height > 90) window.localStorage.removeItem('userParams');\n  } catch (error) {\n    const message = error?.response?.data?.message;\n    setErrorMessage(message);\n    setState('idle');\n  }\n}\n\nasync function getInfoSideBar(\n  setDailyRate,\n  setErrorMessage,\n  setNotAllowedProducts,\n  setUserData,\n  date,\n  userId,\n  usersParams,\n  setState\n) {\n  try {\n    setState('pending');\n    const { data } = await APIs.getInfoForDayRequest({ date });\n    setDailyRate(data);\n    setErrorMessage(null);\n    setState('idle');\n  } catch (error) {\n    setState('idle');\n    if (\n      error.response.data.message === 'Please, count your daily rate first' &&\n      usersParams\n    ) {\n      setErrorMessage(null);\n      setUserData(usersParams);\n      getRequestWithSaved(\n        userId,\n        usersParams,\n        setDailyRate,\n        setNotAllowedProducts,\n        setErrorMessage,\n        setState\n      );\n    } else {\n      setErrorMessage(error.response.data.message);\n    }\n  }\n}\n\nasync function getRequestWithSaved(\n  userId,\n  usersParams,\n  setDailyRate,\n  setNotAllowedProducts,\n  setErrorMessage,\n  setState\n) {\n  try {\n    setState('pending');\n\n    const { data } = await APIs.calculateDaylyAuthRequest(userId, usersParams);\n    setDailyRate({ dailyRate: data.dailyRate, kcalLeft: data.dailyRate });\n    setNotAllowedProducts(data.notAllowedProducts);\n    setErrorMessage(null);\n    window.localStorage.removeItem('userParams');\n    setState('idle');\n  } catch (error) {\n    const message = error?.response?.data?.message;\n    setErrorMessage(message);\n    setState('idle');\n  }\n}\n"],"names":["FilterWrap","styled","FilterInput","p","isAuth","theme","modalTextColor","onChangeFilter","value","onChange","type","name","pattern","title","required","placeholder","AsideBox","sideBarColor","breakpoints","leaves","leavesBig","Title","colorTextPrimary","Div","KcalList","KcalItem","Text","Span","ProductList","gradient","SideBar","date","dailyInfo","notAllowedProducts","dailyRate","kcalConsumed","kcalLeft","percentsOfDailyRate","daySummary","useSelector","selectIsAuth","useState","filterRequest","setFilterRequest","filtredNotAllowedProducts","useMemo","filter","product","toLowerCase","includes","sort","prev","post","localeCompare","getPercentsKcal","percent","total","Math","round","normalLeft","normalConsumed","normalPercent","normalPercentsKcal","Filter","e","target","map","UserPage","UserWrapper","TODAY","Date","toLocaleDateString","User","useSearchParams","get","normalizedDate","replaceAll","userId","useParams","isDark","selectDarkTheme","usersParams","JSON","parse","window","localStorage","getItem","setDailyRate","state","setState","setNotAllowedProducts","userData","setUserData","errorMessage","setErrorMessage","toast","useEffect","getInfoSideBar","getAllowedProducts","Container","Suspense","fallback","Loader","context","APIs","data","height","removeItem","message","response","getRequestWithSaved"],"sourceRoot":""}